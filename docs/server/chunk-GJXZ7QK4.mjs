import './polyfills.server.mjs';
import{H as S,I as G,J as w,K as Y,L as J,M as Q,N as V,O as $,R as q,X as M,a as H,b as p,c as T,d as a,e as f,f as F,g as E,h as j,i as l,j as u,k as C,l as d,m as n,n as s,o as c,p as D,q as x,r as N,s as k,t as L,u as O,v as g,w as B,x as z,y as P,z as _}from"./chunk-4LUMG5JQ.mjs";var it=[],K=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t}),t.\u0275inj=p({imports:[M.forRoot(it),M]});let e=t;return e})();var h=(()=>{let t=class t{constructor(o){this.http=o,this._tagsHistory=[],this.gifList=[],this.GIPHY_KEY="YAyJBozJRka8K6TEEhCHMeIedOnlnewH",this.serviceUrl="https://api.giphy.com/v1/gifs",console.log("Gifs service ready"),this.loadLocalStorage()}get tagsHistory(){return[...this._tagsHistory]}organizeHistory(o){o=o.toLowerCase(),this._tagsHistory.includes(o)&&(this._tagsHistory=this._tagsHistory.filter(i=>i!==o)),this._tagsHistory.unshift(o),this._tagsHistory=this._tagsHistory.splice(0,10),this.saveLocalStorage()}searchTag(o){if(o.length===0)return;this.organizeHistory(o);let i=new Y().set("api_key",this.GIPHY_KEY).set("limit","10").set("q",o);this.http.get(`${this.serviceUrl}/search`,{params:i}).subscribe(r=>{this.gifList=r.data})}saveLocalStorage(){localStorage.setItem("history",JSON.stringify(this._tagsHistory))}loadLocalStorage(){if(typeof localStorage<"u"){if(!localStorage.getItem("history"))return;this._tagsHistory=JSON.parse(localStorage.getItem("history")),this._tagsHistory.length>0&&this.searchTag(this._tagsHistory[0])}else console.log("LocalStorage not defined")}};t.\u0275fac=function(i){return new(i||t)(T(J))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ot=["txtTagInput"],R=(()=>{let t=class t{constructor(o){this.gifsService=o}searchTag(){let o=this.tagInput.nativeElement.value;this.gifsService.searchTag(o),this.tagInput.nativeElement.value=""}};t.\u0275fac=function(i){return new(i||t)(u(h))},t.\u0275cmp=a({type:t,selectors:[["gifs-search-box"]],viewQuery:function(i,r){if(i&1&&k(ot,5),i&2){let v;L(v=O())&&(r.tagInput=v.first)}},decls:4,vars:0,consts:[["type","text","placeholder","Buscar gifs...",1,"form-control",3,"keyup.enter"],["txtTagInput",""]],template:function(i,r){i&1&&(n(0,"h5"),g(1,"Buscar:"),s(),n(2,"input",0,1),x("keyup.enter",function(){return r.searchTag()}),s())},encapsulation:2});let e=t;return e})();var U=(()=>{let t=class t{ngOnInit(){if(!this.gif)throw new Error("Gif is required")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=a({type:t,selectors:[["gifs-card"]],inputs:{gif:"gif"},decls:5,vars:3,consts:[[1,"card","mb-2","text-center","bg-dark"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-white"],[1,"card-text"]],template:function(i,r){i&1&&(n(0,"div",0),c(1,"img",1),n(2,"div",2)(3,"p",3),g(4),s()()()),i&2&&(l(),d("src",r.gif.images.downsized_medium.url,j)("alt",r.gif.title),l(3),B(r.gif.title))},encapsulation:2});let e=t;return e})();function at(e,t){if(e&1&&c(0,"gifs-card",2),e&2){let y=t.$implicit;d("gif",y)}}var A=(()=>{let t=class t{constructor(){this.gifs=[]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=a({type:t,selectors:[["gifs-card-list"]],inputs:{gifs:"gifs"},decls:2,vars:1,consts:[[1,"row"],["class","col-md-3 col-sm-6",3,"gif",4,"ngFor","ngForOf"],[1,"col-md-3","col-sm-6",3,"gif"]],template:function(i,r){i&1&&(n(0,"div",0),C(1,at,1,1,"gifs-card",1),s()),i&2&&(l(),d("ngForOf",r.gifs))},dependencies:[S,U],encapsulation:2});let e=t;return e})();var W=(()=>{let t=class t{constructor(o){this.gifsService=o}get gifs(){return this.gifsService.gifList}};t.\u0275fac=function(i){return new(i||t)(u(h))},t.\u0275cmp=a({type:t,selectors:[["gifs-home-page"]],decls:5,vars:1,consts:[[1,"row","p-3"],[1,"col-12"],[1,"col-12","pt-2"],[3,"gifs"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1),c(2,"gifs-search-box"),s(),n(3,"div",2),c(4,"gifs-card-list",3),s()()),i&2&&(l(4),d("gifs",r.gifs))},dependencies:[R,A]});let e=t;return e})();function pt(e,t){if(e&1){let y=D();n(0,"button",4),x("click",function(){let r=F(y).$implicit,v=N();return E(v.researchTag(r))}),g(1),P(2,"titlecase"),s()}if(e&2){let y=t.$implicit;l(),z(" ",_(2,1,y)," ")}}var X=(()=>{let t=class t{constructor(o){this.gifsService=o}get tags(){return this.gifsService.tagsHistory}researchTag(o){this.gifsService.searchTag(o)}};t.\u0275fac=function(i){return new(i||t)(u(h))},t.\u0275cmp=a({type:t,selectors:[["shared-sidebar"]],decls:6,vars:1,consts:[["id","sidebar",1,"bg-dark","border-rigt","p-3"],[1,"text-light"],[1,"list-group","list-reset"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"h3",1),g(2,"GifsApp"),s(),c(3,"hr",1),n(4,"div",2),C(5,pt,3,3,"button",3),s()()),i&2&&(l(5),d("ngForOf",r.tags))},dependencies:[S,G],styles:["#sidebar[_ngcontent-%COMP%]{height:100vh;width:250px}"]});let e=t;return e})();var I=(()=>{let t=class t{constructor(){this.title="gifs-app"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=a({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"d-flex"]],template:function(i,r){i&1&&(n(0,"div",0),c(1,"shared-sidebar")(2,"gifs-home-page"),s())},dependencies:[W,X]});let e=t;return e})();var Z=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t}),t.\u0275inj=p({imports:[w]});let e=t;return e})();var tt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t}),t.\u0275inj=p({imports:[w]});let e=t;return e})();var et=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t,bootstrap:[I]}),t.\u0275inj=p({providers:[$()],imports:[V,Q,K,Z,tt]});let e=t;return e})();var lt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t,bootstrap:[I]}),t.\u0275inj=p({imports:[et,q]});let e=t;return e})();export{lt as a};
